<!DOCTYPE html>
<html manifest="manifest.appcache">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Feedback with Star Rating</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
</head>
<body id="feedback-page">
    <!-- Header Section -->
    <header class="header">
        <div class="header-content">
            <h1>Give Us Your Feedback</h1>
            <p>Let us know how we did! Your feedback is important to us.</p>
            <div class="top-line"></div>
        </div>
    </header>

    <!-- Feedback Form -->
    <div class="container">
        <div class="feedback-section">
            <h3>Rate Our Service</h3>

            <!-- Star Rating -->
            <div class="stars">
                <label for="star1" class="star" data-value="1">&#9733;</label>
                <label for="star2" class="star" data-value="2">&#9733;</label>
                <label for="star3" class="star" data-value="3">&#9733;</label>
                <label for="star4" class="star" data-value="4">&#9733;</label>
                <label for="star5" class="star" data-value="5">&#9733;</label>
            </div>

            <!-- Feedback Text Area with Updated ID -->
            <textarea id="gtt_technician_comments" rows="4" placeholder="Please share your thoughts here..." required></textarea>
        </div>

        <!-- Buttons Section -->
        <div class="button-container">
            <button type="button" id="submitFeedback" class="styled-button">Submit Feedback</button>
            <button type="button" id="clearFeedback" class="styled-button">Clear</button>
        </div>
    </div>

    <script>
        // Star Rating JavaScript
        var stars = document.querySelectorAll('.star');
        stars.forEach(function(star) {
            star.addEventListener('click', function() {
                var selectedRating = this.getAttribute('data-value');
                document.getElementById('rating-value').value = selectedRating;
                stars.forEach(function(star) {
                    star.style.color = star.getAttribute('data-value') <= selectedRating ? '#ffbb33' : '#dcdcdc';
                });
            });
        });

        document.getElementById("submitFeedback").addEventListener("click", function() {
            var feedbackComments = document.getElementById("gtt_technician_comments").value;
            var rating = document.getElementById('rating-value').value;

            if (!rating || !feedbackComments) {
                alert("Please provide both rating and feedback.");
            } else {
                alert("Thank you for your feedback!");
                document.getElementById("gtt_technician_comments").value = ''; // Clear feedback field after submission
                document.getElementById('rating-value').value = ''; // Clear rating value after submission
                stars.forEach(function(star) {
                    star.style.color = '#dcdcdc'; // Reset stars color
                });
            }
        });

        document.getElementById("clearFeedback").addEventListener("click", function() {
            document.getElementById("gtt_technician_comments").value = ''; // Clear comments
            document.getElementById('rating-value').value = ''; // Clear rating value
            stars.forEach(function(star) {
                star.style.color = '#dcdcdc'; // Reset stars color
            });
        });
    </script>

    <!-- Hidden input for storing rating value -->
    <input type="hidden" id="rating-value">
</body>
</html>
